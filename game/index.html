<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI è²¡å‹™å°èˆªå“¡ï¼šè¤‡åˆ©å¯¦è­‰ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Noto+Sans+TC:wght@300;500;900&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #020617;
            color: #f8fafc;
        }

        .font-orbitron { font-family: 'Orbitron', sans-serif; }

        .glass-panel {
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(56, 189, 248, 0.2);
        }

        .wealth-gradient {
            background: linear-gradient(135deg, #22d3ee 0%, #818cf8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .decision-btn {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .decision-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(34, 211, 238, 0.2);
        }

        @keyframes scan {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }
        .scanner::after {
            content: "";
            position: absolute;
            top: 0; left: 0; width: 100%; height: 2px;
            background: rgba(34, 211, 238, 0.5);
            animation: scan 3s linear infinite;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div class="w-full max-w-3xl">
        <!-- é ‚éƒ¨å³æ™‚ç›£æ§é¢æ¿ -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-6">
            <div class="glass-panel p-3 rounded-xl border-t-2 border-cyan-500">
                <p class="text-[9px] text-slate-500 font-bold uppercase tracking-widest">ç¾é‡‘</p>
                <div id="stat-cash" class="text-lg font-orbitron font-bold text-white">$10,000</div>
            </div>
            <div class="glass-panel p-3 rounded-xl border-t-2 border-emerald-500">
                <p class="text-[9px] text-slate-500 font-bold uppercase tracking-widest">é›ªçƒæœ¬é‡‘</p>
                <div id="stat-invested" class="text-lg font-orbitron font-bold text-emerald-400">$0</div>
            </div>
            <div class="glass-panel p-3 rounded-xl border-t-2 border-purple-500">
                <p class="text-[9px] text-slate-500 font-bold uppercase tracking-widest">25æ­²é ä¼°å¹´è–ª</p>
                <div id="stat-salary" class="text-lg font-orbitron font-bold text-purple-400">$400,000</div>
            </div>
            <div class="glass-panel p-3 rounded-xl border-t-2 border-amber-500">
                <p class="text-[9px] text-slate-500 font-bold uppercase tracking-widest">é ä¼°æ·¨è³‡ç”¢</p>
                <div id="stat-wealth" class="text-lg font-orbitron font-bold text-amber-400">$0</div>
            </div>
        </div>

        <!-- éŠæˆ²ä¸»èˆå° -->
        <div id="main-container" class="glass-panel rounded-[3rem] p-8 md:p-12 relative overflow-hidden scanner">
            
            <div id="game-view">
                <div class="flex flex-col md:flex-row justify-between items-start gap-6 mb-10">
                    <div class="flex-1">
                        <div id="age-tag" class="text-xs font-orbitron text-cyan-400 font-bold mb-2">TIME SEGMENT: 17-19 YEARS OLD</div>
                        <h2 id="scenario-title" class="text-3xl font-black text-white mb-4">ç³»çµ±åˆå§‹åŒ–</h2>
                        <p id="scenario-desc" class="text-slate-400 leading-relaxed text-sm md:text-base">
                            AI è²¡å‹™å°èˆªå“¡å·²ä¸Šç·šã€‚æˆ‘å€‘å°‡æ¨¡æ“¬å¾ 17 æ­²åˆ° 25 æ­²çš„é—œéµè²¡å‹™æ±ºç­–ã€‚
                        </p>
                    </div>
                    
                    <div class="bg-slate-900/80 p-4 rounded-2xl border border-white/5 min-w-[200px]">
                        <div class="text-[10px] text-slate-500 font-bold uppercase mb-2">è¤‡åˆ©æ¨¡æ“¬å™¨ (r=10%)</div>
                        <div class="space-y-2">
                            <div class="flex justify-between text-xs">
                                <span>ç¿»å€æ™‚é–“</span>
                                <span class="text-cyan-400 font-orbitron">7.2 Years</span>
                            </div>
                            <div class="flex justify-between text-xs">
                                <span>è¨ˆç®—å…¬å¼</span>
                                <span class="text-slate-400 font-mono">P*(1.1)^n</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- æ±ºç­–æŒ‰éˆ•å€ -->
                <div id="options-grid" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <!-- é¸é …æœƒé€é JS å‹•æ…‹æ³¨å…¥ -->
                </div>
            </div>
        </div>

        <!-- å°èˆªæ—¥èªŒ -->
        <div class="mt-8">
            <div class="flex items-center gap-2 mb-4 px-2">
                <span class="w-1.5 h-1.5 bg-cyan-500 rounded-full animate-pulse"></span>
                <h3 class="text-[10px] font-bold text-slate-500 uppercase tracking-[0.2em]">Navigation System Log</h3>
            </div>
            <div id="log-container" class="space-y-2 font-mono text-[10px] md:text-[11px] max-h-32 overflow-y-auto pr-2">
                <div class="text-cyan-500/50">> å°èˆªå“¡å•Ÿå‹•ä¸­...</div>
            </div>
        </div>
    </div>

    <!-- çµ‚å±€å¤§æ•¸æ“šå ±å‘Š -->
    <div id="final-modal" class="hidden fixed inset-0 bg-slate-950/98 backdrop-blur-xl z-50 flex items-center justify-center p-4">
        <div class="max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="text-center mb-10">
                <h2 class="text-4xl font-black wealth-gradient mb-2 uppercase font-orbitron tracking-tighter">Mission Accomplished</h2>
                <p class="text-slate-500 text-sm tracking-widest uppercase">25 æ­²è²¡å‹™è³‡ç”¢è² å‚µè¡¨</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                <div class="bg-slate-900 p-6 rounded-3xl border border-white/5 text-center">
                    <p class="text-xs text-slate-500 mb-2 font-bold uppercase">æœ€çµ‚æ·¨è³‡ç”¢</p>
                    <div id="final-total" class="text-3xl font-black text-cyan-400 font-orbitron">$0</div>
                </div>
                <div class="bg-slate-900 p-6 rounded-3xl border border-white/5 text-center">
                    <p class="text-xs text-slate-500 mb-2 font-bold uppercase">å¹´è–ªæˆé•·</p>
                    <div id="final-bonus" class="text-3xl font-black text-purple-400">+0%</div>
                </div>
                <div class="bg-slate-900 p-6 rounded-3xl border border-white/5 text-center">
                    <p class="text-xs text-slate-500 mb-2 font-bold uppercase">é›ªçƒè¤‡åˆ©æ•ˆç›Š</p>
                    <div id="final-interest" class="text-3xl font-black text-emerald-400">+$0</div>
                </div>
            </div>

            <div class="glass-panel p-8 rounded-[2rem] mb-8 border-cyan-500/20">
                <h3 class="text-white font-bold mb-4 flex items-center gap-2">
                    <span>ğŸ“Š</span> é›ªçƒæˆé•·æ˜ç´° (r=10%)
                </h3>
                <div id="interest-breakdown" class="space-y-3 text-xs font-mono text-slate-400">
                    <!-- æ˜ç´°æ³¨å…¥ -->
                </div>
            </div>

            <div class="p-8 bg-cyan-500/5 rounded-[2rem] border border-cyan-500/20 mb-10">
                <h3 class="text-cyan-400 font-bold mb-2">AI å°èˆªçµèª</h3>
                <p id="ai-conclusion" class="text-slate-300 text-sm leading-relaxed italic">
                    æ­£åœ¨åˆ†æä½ çš„è²¡å¯Œè·¯å¾‘...
                </p>
            </div>

            <button onclick="resetGame()" class="w-full py-5 rounded-2xl bg-cyan-500 text-black font-black uppercase tracking-[0.2em] hover:bg-white transition-all shadow-xl shadow-cyan-500/20">
                é‡æ–°æŒ‘æˆ°å¦ä¸€ç¨®äººç”Ÿè·¯å¾‘
            </button>
        </div>
    </div>

    <script>
        const scenarios = [
            {
                age: 17,
                title: "ç¬¬ä¸€æ¡¶é‡‘çš„åˆ†é…",
                desc: "17 æ­²çš„ä½ é ˜åˆ°äº† 5,000 å…ƒçå­¸é‡‘ã€‚é€™ç­†éŒ¢åœ¨ç†è²¡ 2.0 ç³»çµ±ä¸­ï¼Œæœ‰ä¸‰ç¨®å®Œå…¨ä¸åŒçš„å°èˆªæ–¹å¼ï¼š",
                options: [
                    { 
                        type: 'meaningful', 
                        name: "å°ˆæ¥­ç·šä¸Šèª²ç¨‹", 
                        cost: 5000, 
                        bonus: 0.15, 
                        desc: "æŠ•è³‡å¤§è…¦ï¼Œé æœŸ 25 æ­²èµ·è–ª +15%",
                        icon: "ğŸ“"
                    },
                    { 
                        type: 'save', 
                        name: "å­˜å…¥ 10% é›ªçƒ", 
                        cost: 5000, 
                        desc: "è¤‡åˆ© 8 å¹´ï¼Œé æœŸç¿»å€ç‚º $10,718",
                        icon: "â„ï¸"
                    },
                    { 
                        type: 'buy', 
                        name: "è³¼è²·æ½®æµçƒé‹", 
                        cost: 5000, 
                        desc: "ç´”æ¶ˆè²»æ”¯å‡ºï¼Œæœªä¾†åƒ¹å€¼ç‚º $0",
                        icon: "ğŸ‘Ÿ"
                    }
                ]
            },
            {
                age: 19,
                title: "å¤§å­¸æ™‚æœŸçš„å‰¯æ¥­é¸æ“‡",
                desc: "ä½ ç¾åœ¨ 19 æ­²ï¼Œå­˜ä¸‹äº† 8,000 å…ƒã€‚å°èˆªå“¡å»ºè­°ä½ è€ƒæ…®é•·æœŸçš„è¤‡åˆ©ç‰†æˆ–ç”Ÿç”¢åŠ›å·¥å…·ã€‚",
                options: [
                    { 
                        type: 'meaningful', 
                        name: "é«˜æ•ˆç”Ÿç”¢åŠ›å¹³æ¿", 
                        cost: 8000, 
                        bonus: 0.20, 
                        desc: "æå‡ä½œç­†è¨˜èˆ‡ç”¢å‡ºæ•ˆç‡ï¼Œèµ·è–ªå† +20%",
                        icon: "ğŸ“±"
                    },
                    { 
                        type: 'save', 
                        name: "è¿½åŠ  10% é›ªçƒ", 
                        cost: 8000, 
                        desc: "è¤‡åˆ© 6 å¹´ï¼Œé æœŸç¿»å€ç‚º $14,172",
                        icon: "ğŸ“ˆ"
                    },
                    { 
                        type: 'buy', 
                        name: "éŠæˆ²è™›å¯¶èˆ‡èª²é‡‘", 
                        cost: 8000, 
                        desc: "ç¬é–“çš„çˆ½æ„Ÿï¼Œæœªä¾†çš„ä»£åƒ¹",
                        icon: "ğŸ®"
                    }
                ]
            },
            {
                age: 21,
                title: "è¸å…¥è·å ´å‰çš„æœ€å¾Œæ­¦è£",
                desc: "21 æ­²ï¼Œä½ å³å°‡ç•¢æ¥­ã€‚æœ€å¾Œä¸€ç­† 4,000 å…ƒçš„å½ˆè—¥ï¼Œä½ è¦æ‰“å‘å“ªè£¡ï¼Ÿ",
                options: [
                    { 
                        type: 'meaningful', 
                        name: "é¢è©¦å½¢è±¡å·¥ä½œåŠ", 
                        cost: 4000, 
                        bonus: 0.10, 
                        desc: "å¢åŠ éŒ„å–é ‚å°–ä¼æ¥­æ©Ÿç‡ï¼Œèµ·è–ª +10%",
                        icon: "ğŸ‘”"
                    },
                    { 
                        type: 'save', 
                        name: "æœ«æœŸé›ªçƒè¿½åŠ ", 
                        cost: 4000, 
                        desc: "è¤‡åˆ© 4 å¹´ï¼Œé æœŸç¿»å€ç‚º $5,856",
                        icon: "ğŸ’"
                    },
                    { 
                        type: 'buy', 
                        name: "ç•¢æ¥­ç‹‚æ­¡èšé¤", 
                        cost: 4000, 
                        desc: "ç¤¾äº¤å›æ†¶ï¼Œè²¡å‹™ä¸Šçš„ç´”æ”¯å‡º",
                        icon: "ğŸ¥‚"
                    }
                ]
            }
        ];

        let state = {
            cash: 10000,
            investments: [], // æ ¼å¼: { amount: 5000, yearsToGrow: 8 }
            salaryMultiplier: 1.0,
            baseSalary: 400000,
            currentStep: 0
        };

        function calculateCurrentProjection() {
            // è¤‡åˆ©è¨ˆç®—å…¬å¼: P * (1.1)^n
            let investedValue = 0;
            state.investments.forEach(inv => {
                investedValue += inv.amount * Math.pow(1.1, inv.yearsToGrow);
            });
            
            const finalSalary = state.baseSalary * state.salaryMultiplier;
            const totalWealth = state.cash + investedValue + finalSalary;

            return {
                salary: finalSalary,
                wealth: totalWealth,
                investedValue: investedValue
            };
        }

        function updateUI() {
            const proj = calculateCurrentProjection();
            
            document.getElementById('stat-cash').innerText = `$${Math.floor(state.cash).toLocaleString()}`;
            document.getElementById('stat-invested').innerText = `$${Math.floor(state.investments.reduce((a,b)=>a+b.amount,0)).toLocaleString()}`;
            document.getElementById('stat-salary').innerText = `$${Math.floor(proj.salary).toLocaleString()}`;
            document.getElementById('stat-wealth').innerText = `$${Math.floor(proj.wealth).toLocaleString()}`;

            if (state.currentStep < scenarios.length) {
                const s = scenarios[state.currentStep];
                document.getElementById('age-tag').innerText = `TIME SEGMENT: ${s.age}-${s.age+2} YEARS OLD`;
                document.getElementById('scenario-title').innerText = s.title;
                document.getElementById('scenario-desc').innerText = s.desc;

                const grid = document.getElementById('options-grid');
                grid.innerHTML = '';
                s.options.forEach(opt => {
                    const btn = document.createElement('button');
                    btn.className = `decision-btn text-left p-6 rounded-3xl border border-white/10 bg-white/5 flex flex-col justify-between h-full`;
                    btn.onclick = () => handleDecision(opt);
                    
                    let tagClass = opt.type === 'meaningful' ? 'text-purple-400' : (opt.type === 'save' ? 'text-emerald-400' : 'text-rose-400');
                    
                    btn.innerHTML = `
                        <div>
                            <div class="text-3xl mb-4">${opt.icon}</div>
                            <div class="text-[9px] font-bold uppercase tracking-widest ${tagClass} mb-1">${opt.type === 'meaningful' ? 'æ„ç¾©æ¶ˆè²»' : (opt.type === 'save' ? 'é›ªçƒæŠ•è³‡' : 'è² å‚µæ¶ˆè²»')}</div>
                            <h4 class="text-white font-bold mb-2">${opt.name}</h4>
                            <p class="text-[11px] text-slate-500 leading-normal">${opt.desc}</p>
                        </div>
                        <div class="mt-6 pt-4 border-t border-white/5 font-orbitron font-bold text-white">-$${opt.cost.toLocaleString()}</div>
                    `;
                    grid.appendChild(btn);
                });
            } else {
                showFinalModal();
            }
        }

        function log(msg, color = 'text-slate-500') {
            const container = document.getElementById('log-container');
            const el = document.createElement('div');
            el.className = color;
            el.innerText = `> ${msg}`;
            container.prepend(el);
        }

        function handleDecision(opt) {
            state.cash -= opt.cost;
            const yearsTo25 = 25 - scenarios[state.currentStep].age;

            if (opt.type === 'meaningful') {
                state.salaryMultiplier += opt.bonus;
                log(`[æ„ç¾©] æŠ•å…¥ ${opt.name}ï¼Œé è¨ˆèµ·è–ªæˆé•·è‡³ ${(state.salaryMultiplier*100).toFixed(0)}%`, 'text-purple-400');
            } else if (opt.type === 'save') {
                state.investments.push({ amount: opt.cost, yearsToGrow: yearsTo25, name: opt.name });
                log(`[é›ªçƒ] æŠ•å…¥ ${opt.name}ï¼Œé€™ç­†éŒ¢å°‡è¤‡åˆ©æˆé•· ${yearsTo25} å¹´`, 'text-emerald-400');
            } else {
                log(`[è² å‚µ] è³¼è²· ${opt.name}ï¼Œç¾é‡‘æ¸›å°‘ä¸”ç„¡æœªä¾†å›å ±`, 'text-rose-400');
            }

            state.currentStep++;
            updateUI();
        }

        function showFinalModal() {
            const proj = calculateCurrentProjection();
            const originalPrincipal = state.investments.reduce((a,b)=>a+b.amount,0);
            const totalInterest = proj.investedValue - originalPrincipal;

            document.getElementById('final-total').innerText = `$${Math.floor(proj.wealth).toLocaleString()}`;
            document.getElementById('final-bonus').innerText = `+${((state.salaryMultiplier - 1) * 100).toFixed(0)}%`;
            document.getElementById('final-interest').innerText = `+$${Math.floor(totalInterest).toLocaleString()}`;

            // æ˜ç´°
            const breakdown = document.getElementById('interest-breakdown');
            breakdown.innerHTML = '';
            state.investments.forEach(inv => {
                const finalVal = inv.amount * Math.pow(1.1, inv.yearsToGrow);
                const el = document.createElement('div');
                el.className = 'flex justify-between border-b border-white/5 pb-1';
                el.innerHTML = `
                    <span>${inv.name} (${inv.yearsToGrow}å¹´)</span>
                    <span>$${inv.amount.toLocaleString()} â” <span class="text-emerald-400">$${Math.floor(finalVal).toLocaleString()}</span></span>
                `;
                breakdown.appendChild(el);
            });
            if(state.investments.length === 0) breakdown.innerHTML = "ç„¡ä»»ä½•è¤‡åˆ©æŠ•è³‡ç´€éŒ„";

            // AI è©•è«–
            let review = "";
            if (state.salaryMultiplier > 1.3 && originalPrincipal > 10000) {
                review = "å®Œç¾å°èˆªï¼ä½ æˆåŠŸåœ¨ã€Œè‡ªæˆ‘æŠ•è³‡ã€èˆ‡ã€Œé‡‘éŒ¢è¤‡åˆ©ã€ä¹‹é–“å–å¾—äº†é»ƒé‡‘å¹³è¡¡ã€‚25 æ­²çš„ä½ å·²ç¶“å…·å‚™äº†é©šäººçš„è²¡å‹™éŸŒæ€§ã€‚";
            } else if (state.salaryMultiplier > 1.4) {
                review = "ä½ æ˜¯ä¸€å€‹æ¥µç«¯çš„äººæ‰å‹æŠ•è³‡è€…ã€‚é›–ç„¶é›ªçƒåˆæœŸè¼ƒå°ï¼Œä½†ä½ å¼·å¤§çš„è³ºéŒ¢èƒ½åŠ›å°‡åœ¨æœªä¾†å¹¾å¹´çˆ†ç™¼ã€‚";
            } else if (originalPrincipal > 15000) {
                review = "ä½ æ˜¯ç´€å¾‹çš„åŒ–èº«ã€‚é è‘— 72 æ³•å‰‡ï¼Œä½ çš„è³‡ç”¢ç¿»å€é€Ÿåº¦é©šäººï¼Œå»ºè­°æœªä¾†å¯ä»¥ç¨å¾®å¢åŠ ä¸€äº›è‡ªæˆ‘æŠ•è³‡ã€‚";
            } else {
                review = "å°èˆªè­¦ç¤ºï¼šä½ çš„è²¡å‹™æ±ºç­–éæ–¼åå‘æ¶ˆè€—æ€§æ”¯å‡ºã€‚é›–ç„¶ç¾åœ¨å¿«æ¨‚ï¼Œä½† 25 æ­²å¾Œçš„é›ªçƒæ»¾å‹•å£“åŠ›æœƒå¾ˆå¤§ã€‚";
            }
            document.getElementById('ai-conclusion').innerText = review;

            document.getElementById('final-modal').classList.remove('hidden');
        }

        function resetGame() {
            state = {
                cash: 10000,
                investments: [],
                salaryMultiplier: 1.0,
                baseSalary: 400000,
                currentStep: 0
            };
            document.getElementById('log-container').innerHTML = '<div class="text-cyan-500/50">> ç³»çµ±é‡ç½®... å°èˆªå“¡é‡å•Ÿä¸­</div>';
            document.getElementById('final-modal').classList.add('hidden');
            updateUI();
        }

        window.onload = updateUI;
    </script>
</body>
</html>
